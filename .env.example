# know.help — Environment Variables
# Copy this to .env and fill in your values

# ── Server ────────────────────────────────────────────────────────────────────
PORT=3000
NODE_ENV=development
BASE_URL=https://know.help
DATA_DIR=./data
DATABASE_PATH=./data/know-help.db

# ── Authentication ────────────────────────────────────────────────────────────
JWT_SECRET=                          # Required — random 64+ char secret
ADMIN_EMAILS=you@example.com         # Comma-separated list of admin emails
ADMIN_KEY=                           # Required — secret key for admin API endpoints
ADMIN_BEARER_TOKEN=                  # Bearer token for admin dashboard access

# ── Stripe (Payments) ────────────────────────────────────────────────────────
STRIPE_SECRET_KEY=                   # Required for payments — sk_live_... or sk_test_...
STRIPE_WEBHOOK_SECRET=               # Required — whsec_... from Stripe dashboard
STRIPE_PRO_PRICE_ID=                 # Stripe Price ID for Pro subscription
STRIPE_TEAM_PRICE_ID=                # Stripe Price ID for Team subscription
CHECKOUT_SUCCESS_URL=https://know.help/success?session_id={CHECKOUT_SESSION_ID}
CHECKOUT_CANCEL_URL=https://know.help/marketplace

# ── Email (Resend) ───────────────────────────────────────────────────────────
RESEND_API_KEY=                      # Required for emails — re_... from resend.com
FROM_EMAIL=hello@know.help

# ── Storage ───────────────────────────────────────────────────────────────────
S3_BUCKET=                           # S3 bucket for hosted knowledge bases (optional)
LOCAL_STORAGE_DIR=./data/hosted      # Local fallback when S3 is not configured
MINDSET_STORAGE_DIR=./data/mindsets  # Local storage for mindset files
PACKS_DIR=./data/packs               # Directory for downloadable pack archives
SUBMISSIONS_DIR=./data/submissions   # Pack submission staging area
REGISTRY_PATH=./data/registry.json   # Local pack registry

# ── CORS ──────────────────────────────────────────────────────────────────────
ALLOWED_ORIGINS=https://know.help    # Comma-separated allowed origins

# ── AI / Intelligence ─────────────────────────────────────────────────────────
ANTHROPIC_API_KEY=                   # For AI-powered import signal extraction
APIFY_API_TOKEN=                     # For web crawling intelligence feeds
TWITTER_BEARER_TOKEN=                # For Twitter/X intelligence feeds

# ── Redis (Optional) ─────────────────────────────────────────────────────────
REDIS_URL=                           # Redis URL for managed crawler queue (optional)

# ── Security / PII ───────────────────────────────────────────────────────────
PRESIDIO_ANALYZER_URL=               # Microsoft Presidio analyzer (optional)
PRESIDIO_ANONYMIZER_URL=             # Microsoft Presidio anonymizer (optional)

# ── CLI / MCP ─────────────────────────────────────────────────────────────────
KNOW_HELP_API_URL=https://know.help  # API URL for CLI commands
KNOW_HELP_TOKEN=                     # Auth token for CLI/MCP server

# ── Next.js Web (set in web/.env.local) ───────────────────────────────────────
# API_URL=http://localhost:3000      # Backend API URL for Next.js rewrites
